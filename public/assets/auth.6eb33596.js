(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{182:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(10);const r=async()=>new Promise(((e,t)=>{n.a.get("/api/client/store").then((t=>{let{data:a}=t;return e((e=>{let{attributes:t}=e;return{balance:t.balance,cpu:t.cpu,memory:t.memory,disk:t.disk,slots:t.slots,ports:t.ports,backups:t.backups,databases:t.databases}})(a))})).catch(t)}))},183:function(e,t,a){"use strict";var n=a(4),r=a.n(n),o=a(2),c=a(0),i=a.n(c),s=a(56),l=a(154);t.a=e=>{let{title:t,borderColor:a,showFlashes:n,showLoadingOverlay:o,children:c}=e,s=r()(e,["title","borderColor","showFlashes","showLoadingOverlay","children"]);return i.a.createElement("div",s,t&&i.a.createElement(m,null,t),n&&i.a.createElement(d,{byKey:"string"==typeof n?n:void 0}),i.a.createElement(p,{$_css:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(47, 49, 54, var(--tw-bg-opacity))",padding:"1rem",borderRadius:"0.25rem","--tw-shadow":"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",position:"relative"},!!a&&{borderTopWidth:"4px"}]},i.a.createElement(l.a,{visible:o||!1}),c))};var m=Object(o.c)("h2").withConfig({displayName:"ContentBox___StyledH",componentId:"sc-mjlt6f-0"})({"--tw-text-opacity":"1",color:"hsla(211, 13%, 65%, var(--tw-text-opacity))",marginBottom:"1rem",paddingLeft:"1rem",paddingRight:"1rem",fontSize:"1.5rem",lineHeight:"2rem"}),d=Object(o.c)(s.a).withConfig({displayName:"ContentBox___StyledFlashMessageRender",componentId:"sc-mjlt6f-1"})({marginBottom:"1rem"}),p=Object(o.c)("div").withConfig({displayName:"ContentBox___StyledDiv",componentId:"sc-mjlt6f-2"})(["",""],(e=>e.$_css))},224:function(e,t,a){"use strict";var n=a(24),r=a.n(n),o=a(2),c=a(58);function i(){const e=r()(["\n            ",";\n        "]);return i=function(){return e},e}function s(){const e=r()(["\n            width: calc(50% - 1rem);\n        "]);return s=function(){return e},e}t.a=o.c.div.withConfig({displayName:"StoreContainer",componentId:"sc-c1eo3c-0"})(["",";& > div{",";"," ","}"],{display:"flex",flexWrap:"wrap"},{width:"100%"},Object(c.a)("sm")(s()),Object(c.a)("md")(i(),{width:"auto",flex:"1 1 0%"}))},250:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(281);t.a=e=>{let{children:t,icon:a,iconCss:n}=e;return r.a.createElement("div",{className:"w-1/4 pointer-events-none bg-neutral-900 p-2 my-2 rounded justify-between"},r.a.createElement("p",{className:"text-neutral-300 font-normal truncate"},r.a.createElement(o.a,{icon:a,className:"text-neutral-400 mr-2 "+n}),t))}},251:function(e,t,a){"use strict";var n=a(10);t.a=async()=>new Promise(((e,t)=>{n.a.get("/api/client/account/activity/latest").then((t=>{let{data:a}=t;return e((e=>{let{attributes:t}=e;return{event:t.event,timestamp:new Date(t.timestamp)}})(a))})).catch(t)}))},265:function(e,t,a){(function(t){var n;n=function(e){return function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=1)}([function(t,a){t.exports=e},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var m=/(http|https):\/\/(www)?.+\/recaptcha/,d=function(e){function t(e){var a,n,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,s=c(t).call(this,e),a=!s||"object"!==o(s)&&"function"!=typeof s?i(n):s,l(i(a),"container",null),l(i(a),"_isAvailable",(function(){return Boolean(window&&window.grecaptcha&&window.grecaptcha.ready)})),l(i(a),"_inject",(function(){if(a.props.inject&&(o=m,!Array.from(document.scripts).reduce((function(e,t){return e||o.test(t.src)}),!1))){var e=a.props.hl?"&hl=".concat(a.props.hl):"",t="".concat("https://recaptcha.net/recaptcha/api.js","?render=explicit").concat(e);n=t,(r=document.createElement("script")).async=!0,r.defer=!0,r.src=n,document.head&&document.head.appendChild(r)}var n,r,o})),l(i(a),"_prepare",(function(){var e=a.props,t=e.explicit,n=e.onLoad;window.grecaptcha.ready((function(){a.setState({ready:!0},(function(){t||a.renderExplicitly(),n&&n()}))}))})),l(i(a),"_renderRecaptcha",(function(e,t){return window.grecaptcha.render(e,t)})),l(i(a),"_resetRecaptcha",(function(){return window.grecaptcha.reset(a.state.instanceId)})),l(i(a),"_executeRecaptcha",(function(){return window.grecaptcha.execute(a.state.instanceId)})),l(i(a),"_getResponseRecaptcha",(function(){return window.grecaptcha.getResponse(a.state.instanceId)})),l(i(a),"_stopTimer",(function(){a.state.timer&&clearInterval(a.state.timer)})),l(i(a),"componentDidMount",(function(){if(a._inject(),a._isAvailable())a._prepare();else{var e=setInterval((function(){a._isAvailable()&&(a._prepare(),a._stopTimer())}),500);a.setState({timer:e})}})),l(i(a),"shouldComponentUpdate",(function(e){return a.props.className!==e.className||!a.state.rendered})),l(i(a),"componentWillUnmount",(function(){a._stopTimer(),a.state.rendered&&a._resetRecaptcha()})),l(i(a),"renderExplicitly",(function(){return new Promise((function(e,t){if(a.state.rendered)return t(new Error("This recaptcha instance has been already rendered."));if(!a.state.ready||!a.container)return t(new Error("Recaptcha is not ready for rendering yet."));var n=a._renderRecaptcha(a.container,{sitekey:a.props.sitekey,theme:a.props.theme,size:a.props.size,badge:a.state.invisible?a.props.badge:null,tabindex:a.props.tabindex,callback:a.props.onVerify,"expired-callback":a.props.onExpire,"error-callback":a.props.onError,isolated:a.state.invisible?a.props.isolated:null,hl:a.state.invisible?null:a.props.hl});a.setState({instanceId:n,rendered:!0},(function(){a.props.onRender&&a.props.onRender(),e()}))}))})),l(i(a),"reset",(function(){return new Promise((function(e,t){if(a.state.rendered)return a._resetRecaptcha(),e();t(new Error("This recaptcha instance did not render yet."))}))})),l(i(a),"execute",(function(){return new Promise((function(e,t){return a.state.invisible?(a.state.rendered&&(a._executeRecaptcha(),e()),t(new Error("This recaptcha instance did not render yet."))):t(new Error("Manual execution is only available for invisible size."))}))})),l(i(a),"getResponse",(function(){return new Promise((function(e,t){if(a.state.rendered)return e(a._getResponseRecaptcha());t(new Error("This recaptcha instance did not render yet."))}))})),l(i(a),"render",(function(){var e=r.a.createElement("div",{id:a.props.id,className:a.props.className,ref:function(e){return a.container=e}});return a.props.children?a.props.children({renderExplicitly:a.renderExplicitly,reset:a.reset,execute:a.execute,getResponse:a.getResponse,recaptchaComponent:e}):e})),a.state={instanceId:null,ready:!1,rendered:!1,invisible:"invisible"===a.props.size,timer:null},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),t}(n.Component);l(d,"defaultProps",{id:"",className:"g-recaptcha",theme:"light",size:"normal",badge:"bottomright",tabindex:0,explicit:!1,inject:!0,isolated:!1,hl:""}),t.default=d}]).default},e.exports=n(a(0))}).call(this,a(31))},419:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),o=a.n(r),c=a(23),i=a(3),s=a(19),l=a(215),m=a(234),d=a(42),p=a(220),u=a(221),h=a(152),g=a(150),y=a(158),f=a(59),b=a(156),w=a(169),_=a(10);const x=async e=>new Promise(((t,a)=>{_.a.post("/api/client/store/eggs",{id:e}).then((e=>{let{data:a}=e;return t((a.data||[]).map((e=>(e=>({id:e.id,name:e.name,dockerImages:e.docker_images}))(e.attributes))))})).catch(a)}));var v=a(5),E=a.n(v);function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){E()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O=a(30);var S=a(222),N=a(57),k=e=>{let{message:t,admin:a,link:n}=e;return o.a.createElement(N.a,null,o.a.createElement(S.a,{type:"error"},t),a&&o.a.createElement(S.a,{type:"warning",className:"mt-2"},"(Admin Message) ",a,o.a.createElement("a",{href:n,className:"text-blue-400 ml-1",target:"_blank",rel:"noreferrer"},"How do I fix this error?")))},I=a(54),P=a(180),R=a(162),T=a(182),D=a(224),L=a(225),z=()=>{const e=Object(i.useStoreState)((e=>e.storefront.data.limit)),{addFlash:t,clearFlashes:a,clearAndAddHttpError:n}=(Object(i.useStoreState)((e=>e.user.data)),Object(g.a)()),[s,l]=Object(r.useState)(!1),[m,d]=Object(r.useState)(),[p,u]=Object(r.useState)(0),[v,E]=Object(r.useState)(),[j,S]=Object(r.useState)(0),[z,F]=Object(r.useState)(),[B,A]=Object(r.useState)(0),[H,q]=Object(r.useState)();Object(r.useEffect)((()=>{Object(T.a)().then((e=>d(e))),(async()=>new Promise(((e,t)=>{_.a.get("/api/client/store/nodes").then((t=>{let{data:a}=t;return e((a.data||[]).map((e=>(e=>({id:e.id,name:e.name,fqdn:e.fqdn,total:e.total,used:e.used}))(e.attributes))))})).catch(t)})))().then((e=>{A(e[0].id),q(e)})),(async()=>new Promise(((e,t)=>{_.a.get("/api/client/store/nests").then((t=>{let{data:a}=t;return e((a.data||[]).map((e=>(e=>({id:e.id,name:e.name}))(e.attributes))))})).catch(t)})))().then((e=>{S(e[0].id),F(e)})),x().then((e=>{u(e[0].id),E(e)}))}),[]);return m&&z&&v?H?o.a.createElement(N.a,{title:"Create a server",showFlashKey:"store:create"},o.a.createElement(h.c,{onSubmit:e=>{l(!0),a("store:create"),((e,t,a,n)=>new Promise(((r,o)=>{_.a.post("/api/client/store/create",C(C({},e),{},{egg:t,nest:a,node:n})).then((()=>r())).catch(o)})))(e,p,j,B).then((()=>{l(!1),a("store:create"),window.location="/"})).catch((e=>{l(!1),n({key:"store:create",error:e})})).then((()=>{t({type:"success",key:"store:create",message:"Your server has been deployed and is now installing."})}))},initialValues:{name:"My server",description:"Example description",cpu:m.cpu,memory:m.memory/1024,disk:m.disk/1024,ports:m.ports,backups:m.backups,databases:m.databases,nest:1,egg:1,node:1},validationSchema:Object(y.d)().shape({name:Object(y.f)().required().min(3),description:Object(y.f)().optional().min(3).max(191),cpu:Object(y.c)().required().min(50).max(m.cpu).max(e.cpu),memory:Object(y.c)().required().min(1).max(m.memory/1024).max(e.memory/1024),disk:Object(y.c)().required().min(1).max(m.disk/1024).max(e.disk/1024),ports:Object(y.c)().required().min(1).max(m.ports).max(e.port),backups:Object(y.c)().optional().max(m.backups).max(e.backup),databases:Object(y.c)().optional().max(m.databases).max(e.database),nest:Object(y.c)().required().default(1),egg:Object(y.c)().required().default(1),node:Object(y.c)().required().min(1)})},o.a.createElement(h.b,null,o.a.createElement("h1",{className:"j-left text-5xl"},"Basic Details"),o.a.createElement("h3",{className:"j-left text-2xl text-neutral-500"},"Set the basic settings for your new server"),o.a.createElement(D.a,{className:"lg:grid lg:grid-cols-2 my-10 gap-4"},o.a.createElement(R.a,{title:"Server name",icon:L.p,className:"mt-8 sm:mt-0"},o.a.createElement(b.a,{name:"name"}),o.a.createElement("p",{className:"mt-1 text-xs text-gray-400"},"Character limits: ",o.a.createElement("code",null,"a-z A-Z 0-9 _ - .")," and ",o.a.createElement("code",null,"[Space]"),".")),o.a.createElement(R.a,{title:"Server description",icon:L.k,className:"mt-8 sm:mt-0"},o.a.createElement(b.a,{name:"description"}),o.a.createElement("p",{className:"mt-1 text-xs text-yellow-400"},"* This is optional"))),o.a.createElement("h1",{className:"j-left text-5xl"},"Resource Limits"),o.a.createElement("h3",{className:"j-left text-2xl text-neutral-500"},"Set specific limits for CPU, RAM and more."),o.a.createElement(D.a,{className:"lg:grid lg:grid-cols-3 my-10 gap-4"},o.a.createElement(R.a,{title:"Server CPU limit",icon:L.m,className:"mt-8 sm:mt-0"},o.a.createElement(b.a,{name:"cpu"}),o.a.createElement("p",{className:"mt-1 text-xs text-gray-400"},m.cpu,"% available")),o.a.createElement(R.a,{title:"Server RAM limit",icon:L.l,className:"mt-8 sm:mt-0"},o.a.createElement(b.a,{name:"memory"}),o.a.createElement("p",{className:"mt-1 text-xs text-gray-400"},Object(f.e)(m.memory)," available")),o.a.createElement(R.a,{title:"Server Storage limit",icon:L.i,className:"mt-8 sm:mt-0"},o.a.createElement(b.a,{name:"disk"}),o.a.createElement("p",{className:"mt-1 text-xs text-gray-400"},Object(f.e)(m.disk)," available"))),o.a.createElement("h1",{className:"j-left text-5xl"},"Feature Limits"),o.a.createElement("h3",{className:"j-left text-2xl text-neutral-500"},"Add databases, allocations and ports to your server"),o.a.createElement(D.a,{className:"lg:grid lg:grid-cols-3 my-10 gap-4"},o.a.createElement(R.a,{title:"Server allocations",icon:L.n,className:"mt-8 sm:mt-0"},o.a.createElement(b.a,{name:"ports"}),o.a.createElement("p",{className:"mt-1 text-xs text-gray-400"},m.ports," available")),o.a.createElement(R.a,{title:"Server backups",icon:L.a,className:"mt-8 sm:mt-0"},o.a.createElement(b.a,{name:"backups"}),o.a.createElement("p",{className:"mt-1 text-xs text-gray-400"},m.backups," available")),o.a.createElement(R.a,{title:"Server databases",icon:L.f,className:"mt-8 sm:mt-0"},o.a.createElement(b.a,{name:"databases"}),o.a.createElement("p",{className:"mt-1 text-xs text-gray-400"},m.databases," available"))),o.a.createElement("h1",{className:"j-left text-5xl"},"Deployment"),o.a.createElement("h3",{className:"j-left text-2xl text-neutral-500"},"Choose a node and egg"),o.a.createElement(D.a,{className:"lg:grid lg:grid-cols-3 my-10 gap-4"},o.a.createElement(R.a,{title:"Available Nodes",icon:L.j,className:"mt-8 sm:mt-0"},o.a.createElement(w.a,{name:"node",onChange:e=>A(parseInt(e.target.value))},H.map((e=>o.a.createElement("option",{key:e.id,value:e.id},e.name," | ",100-parseInt(((null==e?void 0:e.used)/(null==e?void 0:e.total)*100).toFixed(0)),"% capacity remaining"))))),o.a.createElement(R.a,{title:"Nest",icon:L.e,className:"mt-8 sm:mt-0"},o.a.createElement(w.a,{name:"nest",onChange:e=>{return t=e,S(parseInt(t.target.value)),void x(parseInt(t.target.value)).then((e=>E(e)));var t}},z.map((e=>o.a.createElement("option",{key:e.id,value:e.id},e.name))))),o.a.createElement(R.a,{title:"Egg",icon:L.g,className:"mt-8 sm:mt-0"},o.a.createElement(w.a,{name:"egg",onChange:e=>u(parseInt(e.target.value))},v.map((e=>o.a.createElement("option",{key:e.id,value:e.id},e.name)))))),o.a.createElement(P.a,{visible:s},o.a.createElement("div",{className:"text-right"},o.a.createElement(I.a,{type:"submit",className:"w-1/6 mb-4",size:I.a.Sizes.Large,disabled:s},o.a.createElement(c.K,{className:"mr-2"})," Create server")))))):o.a.createElement(k,{message:"Server creation is currently disabled due to lack of capacity. Come back later.",admin:"Ensure you have at least one node that can be deployed to.",link:"https://docs.halexnodes.net/"}):o.a.createElement(O.a,{size:"large",centered:!0})},F=a(24),B=a.n(F),A=a(58),H=a(25),q=a(183),M=a(153),V=a(56),G=a(154),U=()=>{const{clearAndAddHttpError:e}=Object(g.a)(),[t,a]=Object(r.useState)(0),[n,c]=Object(r.useState)(!1);return o.a.createElement(R.a,{title:"Purchase via Stripe"},o.a.createElement(M.a,{open:n,hideCloseIcon:!0,onClose:()=>{}},"You are now being taken to the Stripe gateway to complete this transaction."),o.a.createElement(K,{byKey:"store:stripe"}),o.a.createElement(h.c,{onSubmit:()=>{c(!0),(e=>new Promise(((t,a)=>{_.a.post("/api/client/store/stripe",{amount:e}).then((e=>{t(e.data||[])})).catch(a)})))(t).then((e=>{c(!1),window.location.href=e})).catch((t=>{c(!1),e({key:"store:stripe",error:t})}))},initialValues:{amount:100}},o.a.createElement(h.b,null,o.a.createElement(G.a,{size:"large",visible:n}),o.a.createElement(w.a,{name:"amount",disabled:n,onChange:e=>a(e.target.value)},o.a.createElement("option",{key:"stripe:placeholder",hidden:!0},"Choose an amount..."),o.a.createElement("option",{key:"stripe:buy:100",value:100},"Purchase 100 coins"),o.a.createElement("option",{key:"stripe:buy:200",value:200},"Purchase 200 coins"),o.a.createElement("option",{key:"stripe:buy:500",value:500},"Purchase 500 coins"),o.a.createElement("option",{key:"stripe:buy:1000",value:1e3},"Purchase 1000 coins")),o.a.createElement(W,null,o.a.createElement(I.a,{type:"submit",disabled:n},"Purchase via Stripe")))))},K=Object(n.c)(V.a).withConfig({displayName:"StripePurchaseForm___StyledFlashMessageRender",componentId:"sc-1wx615b-0"})({marginBottom:"0.5rem"}),W=Object(n.c)("div").withConfig({displayName:"StripePurchaseForm___StyledDiv",componentId:"sc-1wx615b-1"})({marginTop:"1.5rem"}),Y=()=>{const{clearAndAddHttpError:e}=Object(g.a)(),[t,a]=Object(r.useState)(0),[n,c]=Object(r.useState)(!1);return o.a.createElement(R.a,{title:"Purchase via PayPal"},o.a.createElement(M.a,{open:n,hideCloseIcon:!0,onClose:()=>{}},"You are now being taken to the PayPal gateway to complete this transaction."),o.a.createElement(J,{byKey:"store:paypal"}),o.a.createElement(h.c,{onSubmit:()=>{c(!0),(e=>new Promise(((t,a)=>{_.a.post("/api/client/store/paypal",{amount:e}).then((e=>{t(e.data||[])})).catch(a)})))(t).then((e=>{c(!1),window.location.href=e})).catch((t=>{c(!1),e({key:"store:paypal",error:t})}))},initialValues:{amount:100}},o.a.createElement(h.b,null,o.a.createElement(G.a,{size:"large",visible:n}),o.a.createElement(w.a,{name:"amount",disabled:n,onChange:e=>a(e.target.value)},o.a.createElement("option",{key:"paypal:placeholder",hidden:!0},"Choose an amount..."),o.a.createElement("option",{key:"paypal:buy:100",value:100},"100 coins"),o.a.createElement("option",{key:"paypal:buy:200",value:200},"200 coins"),o.a.createElement("option",{key:"paypal:buy:500",value:500},"500 coins"),o.a.createElement("option",{key:"paypal:buy:1000",value:1e3},"1000 coins")),o.a.createElement($,null,o.a.createElement(I.a,{type:"submit",disabled:n},"Purchase via PayPal")))))},J=Object(n.c)(V.a).withConfig({displayName:"PaypalPurchaseForm___StyledFlashMessageRender",componentId:"sc-13ztw2e-0"})({marginBottom:"0.5rem"}),$=Object(n.c)("div").withConfig({displayName:"PaypalPurchaseForm___StyledDiv",componentId:"sc-13ztw2e-1"})({marginTop:"1.5rem"});function Z(){const e=B()(["\n      ",";\n    "]);return Z=function(){return e},e}function Q(){const e=B()(["\n      width: calc(50% - 1rem);\n    "]);return Q=function(){return e},e}const X=n.c.div.withConfig({displayName:"BalanceContainer__Container",componentId:"sc-4fykn0-0"})(["",";& > div{",";"," ","}"],{display:"flex",flexWrap:"wrap"},{width:"100%"},Object(A.a)("sm")(Q()),Object(A.a)("md")(Z(),{width:"auto",flex:"1 1 0%"}));var ee=()=>{const[e,t]=Object(r.useState)(),a=(Object(H.b)((e=>e.storefront.data.earn)),Object(H.b)((e=>{var t;return null===(t=e.storefront.data.gateways)||void 0===t?void 0:t.paypal}))),n=Object(H.b)((e=>{var t;return null===(t=e.storefront.data.gateways)||void 0===t?void 0:t.stripe}));return Object(r.useEffect)((()=>{Object(T.a)().then((e=>t(e)))}),[]),e?o.a.createElement(N.a,{title:"Account Balance"},o.a.createElement("h1",{className:"j-left text-5xl"},"Coins"),o.a.createElement("h3",{className:"j-left text-2xl mt-2 text-neutral-500"},"View information related to your coins"),o.a.createElement(X,{className:"j-up lg:grid lg:grid-cols-2 my-10"},o.a.createElement(te,{title:"Account Balance",showFlashes:"account:balance"},o.a.createElement(ae,null,o.a.createElement("span",{className:"text-base ml-4"},e.balance," coins"))),o.a.createElement(ne,{title:"Purchase coins",showFlashes:"account:balance"},a&&o.a.createElement(Y,null),n&&o.a.createElement(U,null)))):o.a.createElement(O.a,{size:"large",centered:!0})},te=Object(n.c)(q.a).withConfig({displayName:"BalanceContainer___StyledContentBox",componentId:"sc-4fykn0-1"})({"@media (min-width: 640px)":{marginTop:"0px"}}),ae=Object(n.c)("h1").withConfig({displayName:"BalanceContainer___StyledH",componentId:"sc-4fykn0-2"})({fontSize:"4.5rem",lineHeight:"1",display:"flex",justifyContent:"center",alignItems:"center"}),ne=Object(n.c)(q.a).withConfig({displayName:"BalanceContainer___StyledContentBox2",componentId:"sc-4fykn0-3"})({marginTop:"2rem","@media (min-width: 640px)":{marginTop:"0px",marginLeft:"2rem"}}),re=a(174),oe=a(173);const ce=e=>({code:e.code,createdAt:e.created_at?new Date(e.created_at):null});var ie=()=>new Promise(((e,t)=>{_.a.get("/api/client/account/referrals").then((t=>{let{data:a}=t;return e((a.data||[]).map((e=>ce(e.attributes))))})).catch(t)}));function se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var le=()=>new Promise(((e,t)=>{_.a.post("/api/client/account/referrals").then((t=>{let{data:a}=t;return e(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?se(Object(a),!0).forEach((function(t){E()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},ce(a.attributes)))})).catch(t)}));function me(){const e=B()(["\n      ",";\n    "]);return me=function(){return e},e}function de(){const e=B()(["\n      width: calc(50% - 1rem);\n    "]);return de=function(){return e},e}const pe=n.c.div.withConfig({displayName:"ReferralContainer__Container",componentId:"sc-1u4pds-0"})(["",";& > div{",";"," ","}"],{display:"flex",flexWrap:"wrap"},{width:"100%"},Object(A.a)("sm")(de()),Object(A.a)("md")(me(),{width:"auto",flex:"1 1 0%"}));var ue=()=>{const[e,t]=Object(r.useState)(""),[a,n]=Object(r.useState)(!0),c=Object(H.b)((e=>{var t;return null===(t=e.storefront.data)||void 0===t?void 0:t.referrals.reward})),[i,s]=Object(r.useState)([]),{addFlash:l}=Object(g.a)(),{clearFlashes:m,clearAndAddHttpError:d}=Object(g.b)("referrals");Object(r.useEffect)((()=>{m(),ie().then((e=>s(e))).then((()=>n(!1))).catch((e=>d(e)))}),[]);const p=e=>{m(),n(!0),(e=>new Promise(((t,a)=>{_.a.delete("/api/client/account/referrals/".concat(e)).then((()=>t())).catch(a)})))(e).then((()=>{ie().then((e=>s(e))),l({type:"success",key:"referrals",message:"Referral code has been deleted."})})).catch((e=>d(e))).then((()=>{n(!1),t("")}))};return o.a.createElement(N.a,{title:"Referrals"},o.a.createElement("h1",{className:"j-left text-5xl"},"Referrals"),o.a.createElement("h3",{className:"j-left text-2xl mt-2 text-neutral-500"},"Earn coins for inviting users"),o.a.createElement(V.a,{byKey:"referrals",className:"mt-2"}),o.a.createElement(pe,{className:"j-up lg:grid lg:grid-cols-3 my-10"},o.a.createElement(he,{title:"Your referral codes"},o.a.createElement(M.a.Confirm,{title:"Delete Referral Code",confirm:"Delete Code",open:!!e,onClose:()=>t(""),onConfirmed:()=>p(e)},"Users will no longer be able to use this key for signup."),o.a.createElement(G.a,{visible:a}),0===i.length?o.a.createElement(ge,null,!a&&"No referral codes exist for this account."):i.map(((e,a)=>o.a.createElement(ye,{key:e.code,$_css:[{"--tw-bg-opacity":"1",backgroundColor:"rgba(47, 49, 54, var(--tw-bg-opacity))",display:"flex",alignItems:"center"},a>0&&{marginTop:"0.5rem"}]},o.a.createElement(fe,null),o.a.createElement(be,null,o.a.createElement(we,null,e.code),o.a.createElement(_e,null,"Created at: ",e.createdAt?Object(re.b)(e.createdAt,"MMM do, yyyy HH:mm"):"Never")),o.a.createElement(xe,{onClick:()=>t(e.code)},o.a.createElement(ve,null))))),o.a.createElement(I.a,{onClick:()=>(m(),n(!0),void le().then((()=>{ie().then((e=>s(e))),l({type:"success",key:"referrals",message:"Referral code has been created."})})).catch((e=>d(e))).then((()=>{n(!1)}))),className:"mt-4"},"Create")),o.a.createElement(Ee,{title:"Rewards"},o.a.createElement(je,null,"You will recieve ",o.a.createElement("span",{className:"text-green-500"},c)," coins for ever user who uses this referral code, they can apply the code in the account page")),o.a.createElement(Ce,{title:"Users Referred"},o.a.createElement(Oe,null,"Unable to view statistics at this time."))))},he=Object(n.c)(q.a).withConfig({displayName:"ReferralContainer___StyledContentBox",componentId:"sc-1u4pds-1"})({"@media (min-width: 640px)":{marginTop:"0px"}}),ge=Object(n.c)("p").withConfig({displayName:"ReferralContainer___StyledP",componentId:"sc-1u4pds-2"})({textAlign:"center",marginTop:"0.5rem",marginBottom:"0.5rem"}),ye=Object(n.c)(oe.a).withConfig({displayName:"ReferralContainer___StyledGreyRowBox",componentId:"sc-1u4pds-3"})(["",""],(e=>e.$_css)),fe=Object(n.c)(c.u).withConfig({displayName:"ReferralContainer___StyledIconGitBranch",componentId:"sc-1u4pds-4"})({"--tw-text-opacity":"1",color:"hsla(211, 13%, 65%, var(--tw-text-opacity))"}),be=Object(n.c)("div").withConfig({displayName:"ReferralContainer___StyledDiv",componentId:"sc-1u4pds-5"})({marginLeft:"1rem",flex:"1 1 0%",overflow:"hidden"}),we=Object(n.c)("p").withConfig({displayName:"ReferralContainer___StyledP2",componentId:"sc-1u4pds-6"})({fontSize:"0.875rem",lineHeight:"1.25rem",overflowWrap:"break-word"}),_e=Object(n.c)("p").withConfig({displayName:"ReferralContainer___StyledP3",componentId:"sc-1u4pds-7"})({fontSize:"0.625rem","--tw-text-opacity":"1",color:"hsla(211, 13%, 65%, var(--tw-text-opacity))",textTransform:"uppercase"}),xe=Object(n.c)("button").withConfig({displayName:"ReferralContainer___StyledButton",componentId:"sc-1u4pds-8"})({marginLeft:"1rem",padding:"0.5rem",fontSize:"0.875rem",lineHeight:"1.25rem"}),ve=Object(n.c)(c.P).withConfig({displayName:"ReferralContainer___StyledIconTrash",componentId:"sc-1u4pds-9"})({"--tw-text-opacity":"1",color:"hsla(211, 10%, 53%, var(--tw-text-opacity))",":hover":{"--tw-text-opacity":"1",color:"rgba(248, 113, 113, var(--tw-text-opacity))"},transitionProperty:"background-color, border-color, color, fill, stroke",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"}),Ee=Object(n.c)(q.a).withConfig({displayName:"ReferralContainer___StyledContentBox2",componentId:"sc-1u4pds-10"})({marginTop:"2rem","@media (min-width: 640px)":{marginTop:"0px",marginLeft:"2rem"}}),je=Object(n.c)("h1").withConfig({displayName:"ReferralContainer___StyledH",componentId:"sc-1u4pds-11"})({fontSize:"1.25rem",lineHeight:"1.75rem"}),Ce=Object(n.c)(q.a).withConfig({displayName:"ReferralContainer___StyledContentBox3",componentId:"sc-1u4pds-12"})({marginTop:"2rem","@media (min-width: 640px)":{marginTop:"0px",marginLeft:"2rem"}}),Oe=Object(n.c)("h1").withConfig({displayName:"ReferralContainer___StyledH2",componentId:"sc-1u4pds-13"})({"--tw-text-opacity":"1",color:"hsla(211, 10%, 53%, var(--tw-text-opacity))"});var Se=()=>{const[e,t]=Object(r.useState)();Object(i.useStoreState)((e=>e.user.data.username));return Object(r.useEffect)((()=>{Object(T.a)().then((e=>t(e)))}),[]),e?o.a.createElement(N.a,{title:"Storefront Overview"},o.a.createElement("h1",{className:"j-left text-5xl"},"No data"),o.a.createElement("h3",{className:"j-left text-2xl mt-2 text-neutral-500"},"No data"),o.a.createElement(D.a,{className:"j-right lg:grid lg:grid-cols-3 my-10"})):o.a.createElement(O.a,{size:"large",centered:!0})},Ne=a(226),ke=a(250),Ie=a(251);function Pe(){const e=B()(["\n      ",";\n    "]);return Pe=function(){return e},e}function Re(){const e=B()(["\n      width: calc(50% - 1rem);\n    "]);return Re=function(){return e},e}const Te=n.c.div.withConfig({displayName:"ResourcesContainer__Container",componentId:"sc-u688sc-0"})(["",";& > div{",";"," ","}"],{display:"flex",flexWrap:"wrap"},{width:"100%"},Object(A.a)("sm")(Re()),Object(A.a)("md")(Pe(),{width:"auto",flex:"1 1 0%"})),De=n.c.div.withConfig({displayName:"ResourcesContainer__Wrapper",componentId:"sc-u688sc-1"})(["",";"],{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"});var Le=()=>{const[e,t]=Object(r.useState)(),[a,n]=Object(r.useState)(0),[i,s]=Object(r.useState)();Object(r.useEffect)((()=>{Object(T.a)().then((e=>n(e.balance))),Object(Ie.a)().then((e=>t(e)))}),[]);const[l,m]=Object(r.useState)(!1),[d,p]=Object(r.useState)(""),{addFlash:u,clearFlashes:h,clearAndAddHttpError:y}=Object(g.a)(),f=Object(H.b)((e=>e.storefront.data.cost)),b=e=>{h("store:resources"),(e=>new Promise(((t,a)=>{_.a.post("/api/client/store/resources",{resource:e}).then((()=>t())).catch(a)})))(e).then((()=>m(!1))).then((()=>u({type:"success",key:"store:resources",message:"Resource has been added to your account."}))).catch((e=>{y({key:"store:resources",error:e})}))};return o.a.createElement(N.a,{title:"Store Products",showFlashKey:"store:resources"},o.a.createElement(G.a,{size:"large",visible:l}),o.a.createElement(M.a.Confirm,{open:l,onClose:()=>m(!1),title:"Confirm resource seletion",confirm:"Continue",onConfirmed:()=>b(d)},"Are you sure you want to purchase this resource? This will take credits from your account and add the resource. This is not a reversible transaction."),o.a.createElement(ke.a,{icon:L.d},"You have ",o.a.createElement("span",{className:"text-green-600"},a)," Coins"),o.a.createElement("h1",{className:"j-left text-5xl"},"Buy resources"),o.a.createElement("h3",{className:"j-left text-2xl text-neutral-500"},"Get extra resources for your servers"),o.a.createElement(Te,{className:"j-up lg:grid lg:grid-cols-3 my-10"},o.a.createElement(ze,{title:"Purchase CPU"},o.a.createElement(De,null,o.a.createElement(c.k,{size:40}),o.a.createElement(Fe,{variant:I.a.Variants.Secondary,onClick:()=>{m(!0),p("cpu")}},"+50% CPU")),o.a.createElement(Be,null,"Cost per 50% CPU: ",f.cpu," coins")),o.a.createElement(Ae,{title:"Purchase RAM"},o.a.createElement(De,null,o.a.createElement(c.F,{size:40}),o.a.createElement(He,{variant:I.a.Variants.Secondary,onClick:()=>{m(!0),p("memory")}},"+1GB RAM")),o.a.createElement(qe,null,"Cost per 1GB RAM: ",f.memory," coins")),o.a.createElement(Me,{title:"Purchase Disk"},o.a.createElement(De,null,o.a.createElement(c.v,{size:40}),o.a.createElement(Ve,{variant:I.a.Variants.Secondary,onClick:()=>{m(!0),p("disk")}},"+1GB DISK")),o.a.createElement(Ge,null,"Cost per 1GB disk: ",f.disk," coins"))),o.a.createElement(Te,{className:"j-up lg:grid lg:grid-cols-4 my-10"},o.a.createElement(Ue,{title:"Purchase Server Slot"},o.a.createElement(De,null,o.a.createElement(c.K,{size:40}),o.a.createElement(Ke,{variant:I.a.Variants.Secondary,onClick:()=>{m(!0),p("slots")}},"+1 slot")),o.a.createElement(We,null,"Cost per slot: ",f.slot," coins")),o.a.createElement(Ye,{title:"Purchase Server Ports"},o.a.createElement(De,null,o.a.createElement(c.M,{size:40}),o.a.createElement(Je,{variant:I.a.Variants.Secondary,onClick:()=>{m(!0),p("ports")}},"+1 port")),o.a.createElement($e,null,"Cost per port: ",f.port," coins")),o.a.createElement(Ze,{title:"Purchase Server Backups"},o.a.createElement(De,null,o.a.createElement(c.b,{size:40}),o.a.createElement(Qe,{variant:I.a.Variants.Secondary,onClick:()=>{m(!0),p("backups")}},"+1 backup")),o.a.createElement(Xe,null,"Cost per backup slot: ",f.backup," coins")),o.a.createElement(et,{title:"Purchase Server Databases"},o.a.createElement(De,null,o.a.createElement(c.l,{size:40}),o.a.createElement(tt,{variant:I.a.Variants.Secondary,onClick:()=>{m(!0),p("databases")}},"+1 database")),o.a.createElement(at,null,"Cost per database: ",f.database," coins"))))},ze=Object(n.c)(R.a).withConfig({displayName:"ResourcesContainer___StyledTitledGreyBox",componentId:"sc-u688sc-2"})({marginTop:"2rem","@media (min-width: 640px)":{marginTop:"0px"}}),Fe=Object(n.c)(I.a.Success).withConfig({displayName:"ResourcesContainer___StyledButtonSuccess",componentId:"sc-u688sc-3"})({marginLeft:"1rem"}),Be=Object(n.c)("p").withConfig({displayName:"ResourcesContainer___StyledP",componentId:"sc-u688sc-4"})({marginTop:"0.25rem","--tw-text-opacity":"1",color:"hsla(211, 12%, 43%, var(--tw-text-opacity))",fontSize:"0.75rem",lineHeight:"1rem",display:"flex",justifyContent:"center"}),Ae=Object(n.c)(R.a).withConfig({displayName:"ResourcesContainer___StyledTitledGreyBox2",componentId:"sc-u688sc-5"})({marginTop:"2rem","@media (min-width: 640px)":{marginTop:"0px",marginLeft:"2rem"}}),He=Object(n.c)(I.a.Success).withConfig({displayName:"ResourcesContainer___StyledButtonSuccess2",componentId:"sc-u688sc-6"})({marginLeft:"1rem"}),qe=Object(n.c)("p").withConfig({displayName:"ResourcesContainer___StyledP2",componentId:"sc-u688sc-7"})({marginTop:"0.25rem","--tw-text-opacity":"1",color:"hsla(211, 12%, 43%, var(--tw-text-opacity))",fontSize:"0.75rem",lineHeight:"1rem",display:"flex",justifyContent:"center"}),Me=Object(n.c)(R.a).withConfig({displayName:"ResourcesContainer___StyledTitledGreyBox3",componentId:"sc-u688sc-8"})({marginTop:"2rem","@media (min-width: 640px)":{marginTop:"0px",marginLeft:"2rem"}}),Ve=Object(n.c)(I.a.Success).withConfig({displayName:"ResourcesContainer___StyledButtonSuccess3",componentId:"sc-u688sc-9"})({marginLeft:"1rem"}),Ge=Object(n.c)("p").withConfig({displayName:"ResourcesContainer___StyledP3",componentId:"sc-u688sc-10"})({marginTop:"0.25rem","--tw-text-opacity":"1",color:"hsla(211, 12%, 43%, var(--tw-text-opacity))",fontSize:"0.75rem",lineHeight:"1rem",display:"flex",justifyContent:"center"}),Ue=Object(n.c)(R.a).withConfig({displayName:"ResourcesContainer___StyledTitledGreyBox4",componentId:"sc-u688sc-11"})({marginTop:"2rem","@media (min-width: 640px)":{marginTop:"0px"}}),Ke=Object(n.c)(I.a.Success).withConfig({displayName:"ResourcesContainer___StyledButtonSuccess4",componentId:"sc-u688sc-12"})({marginLeft:"1rem"}),We=Object(n.c)("p").withConfig({displayName:"ResourcesContainer___StyledP4",componentId:"sc-u688sc-13"})({marginTop:"0.25rem","--tw-text-opacity":"1",color:"hsla(211, 12%, 43%, var(--tw-text-opacity))",fontSize:"0.75rem",lineHeight:"1rem",display:"flex",justifyContent:"center"}),Ye=Object(n.c)(R.a).withConfig({displayName:"ResourcesContainer___StyledTitledGreyBox5",componentId:"sc-u688sc-14"})({marginTop:"2rem","@media (min-width: 640px)":{marginTop:"0px",marginLeft:"2rem"}}),Je=Object(n.c)(I.a.Success).withConfig({displayName:"ResourcesContainer___StyledButtonSuccess5",componentId:"sc-u688sc-15"})({marginLeft:"1rem"}),$e=Object(n.c)("p").withConfig({displayName:"ResourcesContainer___StyledP5",componentId:"sc-u688sc-16"})({marginTop:"0.25rem","--tw-text-opacity":"1",color:"hsla(211, 12%, 43%, var(--tw-text-opacity))",fontSize:"0.75rem",lineHeight:"1rem",display:"flex",justifyContent:"center"}),Ze=Object(n.c)(R.a).withConfig({displayName:"ResourcesContainer___StyledTitledGreyBox6",componentId:"sc-u688sc-17"})({marginTop:"2rem","@media (min-width: 640px)":{marginTop:"0px",marginLeft:"2rem"}}),Qe=Object(n.c)(I.a.Success).withConfig({displayName:"ResourcesContainer___StyledButtonSuccess6",componentId:"sc-u688sc-18"})({marginLeft:"1rem"}),Xe=Object(n.c)("p").withConfig({displayName:"ResourcesContainer___StyledP6",componentId:"sc-u688sc-19"})({marginTop:"0.25rem","--tw-text-opacity":"1",color:"hsla(211, 12%, 43%, var(--tw-text-opacity))",fontSize:"0.75rem",lineHeight:"1rem",display:"flex",justifyContent:"center"}),et=Object(n.c)(R.a).withConfig({displayName:"ResourcesContainer___StyledTitledGreyBox7",componentId:"sc-u688sc-20"})({marginTop:"2rem","@media (min-width: 640px)":{marginTop:"0px",marginLeft:"2rem"}}),tt=Object(n.c)(I.a.Success).withConfig({displayName:"ResourcesContainer___StyledButtonSuccess7",componentId:"sc-u688sc-21"})({marginLeft:"1rem"}),at=Object(n.c)("p").withConfig({displayName:"ResourcesContainer___StyledP7",componentId:"sc-u688sc-22"})({marginTop:"0.25rem","--tw-text-opacity":"1",color:"hsla(211, 12%, 43%, var(--tw-text-opacity))",fontSize:"0.75rem",lineHeight:"1rem",display:"flex",justifyContent:"center"}),nt=a(155);t.default=()=>{const e=Object(nt.h)(),t=Object(s.h)(),{width:a}=Object(u.a)(),n=Object(i.useStoreState)((e=>e.storefront.data.referrals));return o.a.createElement(o.a.Fragment,null,a>=1280?o.a.createElement(m.a,null):o.a.createElement(Ne.a,null),o.a.createElement(p.a,{className:"j-down"},o.a.createElement("div",null,o.a.createElement(nt.b,{to:"".concat(e.url,"/create"),exact:!0},o.a.createElement(rt,null,"Create Server ",o.a.createElement(ot,{size:18}))),o.a.createElement(nt.b,{to:"".concat(e.url,"/balance")},o.a.createElement(ct,null,"Balance ",o.a.createElement(it,{size:18}))),o.a.createElement(nt.b,{to:"".concat(e.url,"/resources")},o.a.createElement(st,null,"Resources ",o.a.createElement(lt,{size:18}))),n.enabled&&o.a.createElement(nt.b,{to:"".concat(e.url,"/referrals")},o.a.createElement(mt,null,"Referrals ",o.a.createElement(dt,{size:18}))))),o.a.createElement(l.a,null,o.a.createElement(nt.d,{location:t},o.a.createElement(nt.c,{path:"".concat(e.path),exact:!0},o.a.createElement(Se,null)),o.a.createElement(nt.c,{path:"".concat(e.path,"/balance"),exact:!0},o.a.createElement(ee,null)),o.a.createElement(nt.c,{path:"".concat(e.path,"/resources"),exact:!0},o.a.createElement(Le,null)),o.a.createElement(nt.c,{path:"".concat(e.path,"/create"),exact:!0},o.a.createElement(z,null)),n.enabled&&o.a.createElement(nt.c,{path:"".concat(e.path,"/referrals"),exact:!0},o.a.createElement(ue,null)),o.a.createElement(nt.c,{path:"*"},o.a.createElement(d.b,null)))))};var rt=Object(n.c)("div").withConfig({displayName:"StoreRouter___StyledDiv",componentId:"sc-1nc9p56-0"})({display:"flex",alignItems:"center",justifyContent:"space-between"}),ot=Object(n.c)(c.H).withConfig({displayName:"StoreRouter___StyledIconPlus",componentId:"sc-1nc9p56-1"})({marginLeft:"0.25rem"}),ct=Object(n.c)("div").withConfig({displayName:"StoreRouter___StyledDiv2",componentId:"sc-1nc9p56-2"})({display:"flex",alignItems:"center",justifyContent:"space-between"}),it=Object(n.c)(c.m).withConfig({displayName:"StoreRouter___StyledIconDollarSign",componentId:"sc-1nc9p56-3"})({marginLeft:"0.25rem"}),st=Object(n.c)("div").withConfig({displayName:"StoreRouter___StyledDiv3",componentId:"sc-1nc9p56-4"})({display:"flex",alignItems:"center",justifyContent:"space-between"}),lt=Object(n.c)(c.N).withConfig({displayName:"StoreRouter___StyledIconShoppingCart",componentId:"sc-1nc9p56-5"})({marginLeft:"0.25rem"}),mt=Object(n.c)("div").withConfig({displayName:"StoreRouter___StyledDiv4",componentId:"sc-1nc9p56-6"})({display:"flex",alignItems:"center",justifyContent:"space-between"}),dt=Object(n.c)(c.U).withConfig({displayName:"StoreRouter___StyledIconUsers",componentId:"sc-1nc9p56-7"})({marginLeft:"0.25rem"})},420:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(25),c=a(19),i=a(42),s=a(5),l=a.n(s),m=a(2),d=a(265),p=a.n(d),u=a(10),h=a(158),g=a(150),y=a(3),f=a(152),b=a(156),w=a(54),_=a(155),x=a(11),v=a.n(x),E=a(4),j=a.n(E),C=a(24),O=a.n(C),S=a(58),N=a(56);function k(){const e=O()(["\n        ","\n        max-width: 700px;\n    "]);return k=function(){return e},e}function I(){const e=O()(["\n        ","\n    "]);return I=function(){return e},e}function P(){const e=O()(["\n        ","\n    "]);return P=function(){return e},e}function R(){const e=O()(["\n        ","\n    "]);return R=function(){return e},e}const T=m.c.div.withConfig({displayName:"LoginFormContainer__Container",componentId:"sc-cyh04c-0"})(["",";",";",";",";"],Object(S.a)("sm")(R(),{width:"80%",marginLeft:"auto",marginRight:"auto"}),Object(S.a)("md")(P(),{padding:"2.5rem"}),Object(S.a)("lg")(I(),{width:"60%"}),Object(S.a)("xl")(k(),{width:"100%"}));var D=Object(n.forwardRef)(((e,t)=>{let{title:a}=e,n=j()(e,["title"]);return r.a.createElement(T,null,a&&r.a.createElement(L,null,a),r.a.createElement(z,null),r.a.createElement(f.b,v()({},n,{ref:t}),r.a.createElement(F,null,r.a.createElement(B,null,r.a.createElement(A,{src:"https://bluedmc.tk/bhl.png"})),r.a.createElement(H,null,n.children))),r.a.createElement(q,null,"© ",r.a.createElement("a",{href:"https://jexactyl.com"},"Jexactyl,")," built on"," ",r.a.createElement("a",{href:"https://pterodactyl.io"},"Pterodactyl.")),r.a.createElement(M,null,r.a.createElement("a",{href:"https://jexactyl.com"}," Site "),"•",r.a.createElement("a",{href:"https://github.com/jexactyl/jexactyl"}," GitHub ")))})),L=Object(m.c)("h2").withConfig({displayName:"LoginFormContainer___StyledH",componentId:"sc-cyh04c-1"})({fontSize:"1.875rem",lineHeight:"2.25rem",textAlign:"center","--tw-text-opacity":"1",color:"hsla(214, 15%, 91%, var(--tw-text-opacity))",fontWeight:"500",paddingTop:"1rem",paddingBottom:"1rem"}),z=Object(m.c)(N.a).withConfig({displayName:"LoginFormContainer___StyledFlashMessageRender",componentId:"sc-cyh04c-2"})({marginBottom:"0.5rem",paddingLeft:"0.25rem",paddingRight:"0.25rem"}),F=Object(m.c)("div").withConfig({displayName:"LoginFormContainer___StyledDiv",componentId:"sc-cyh04c-3"})({width:"100%","--tw-bg-opacity":"1",backgroundColor:"rgba(47, 49, 54, var(--tw-bg-opacity))","--tw-shadow":"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",borderRadius:"0.5rem",padding:"1.5rem",marginLeft:"0.25rem",marginRight:"0.25rem","@media (min-width: 768px)":{display:"flex",paddingLeft:"0px"}}),B=Object(m.c)("div").withConfig({displayName:"LoginFormContainer___StyledDiv2",componentId:"sc-cyh04c-4"})({flex:"none",userSelect:"none",marginBottom:"1.5rem",alignSelf:"center","@media (min-width: 768px)":{marginBottom:"0px"}}),A=Object(m.c)("img").withConfig({displayName:"LoginFormContainer___StyledImg",componentId:"sc-cyh04c-5"})({display:"block",width:"12rem",marginLeft:"auto",marginRight:"auto","@media (min-width: 768px)":{width:"16rem"}}),H=Object(m.c)("div").withConfig({displayName:"LoginFormContainer___StyledDiv3",componentId:"sc-cyh04c-6"})({flex:"1 1 0%"}),q=Object(m.c)("p").withConfig({displayName:"LoginFormContainer___StyledP",componentId:"sc-cyh04c-7"})({"--tw-text-opacity":"1",color:"hsla(211, 12%, 43%, var(--tw-text-opacity))",fontSize:"0.75rem",lineHeight:"1rem",marginTop:"1.5rem","@media (min-width: 640px)":{float:"left"}}),M=Object(m.c)("p").withConfig({displayName:"LoginFormContainer___StyledP2",componentId:"sc-cyh04c-8"})({"--tw-text-opacity":"1",color:"hsla(211, 12%, 43%, var(--tw-text-opacity))",fontSize:"0.75rem",lineHeight:"1rem",marginTop:"1.5rem","@media (min-width: 640px)":{float:"right"}});function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(Object(a),!0).forEach((function(t){l()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U=e=>{let{history:t}=e;const a=Object(n.useRef)(null),[o,c]=Object(n.useState)(""),i=Object(y.useStoreState)((e=>{var t;return null===(t=e.settings.data)||void 0===t?void 0:t.name})),s=Object(y.useStoreState)((e=>{var t;return null===(t=e.settings.data)||void 0===t?void 0:t.registration.email})),l=Object(y.useStoreState)((e=>{var t;return null===(t=e.settings.data)||void 0===t?void 0:t.registration.discord})),{clearFlashes:m,clearAndAddHttpError:d}=Object(g.a)(),{enabled:_,siteKey:x}=Object(y.useStoreState)((e=>e.settings.data.recaptcha));Object(n.useEffect)((()=>{m()}),[]);return r.a.createElement(f.c,{onSubmit:(e,n)=>{let{setSubmitting:r}=n;m(),!_||o?(e=>{let{username:t,password:a,recaptchaData:n}=e;return new Promise(((e,r)=>{u.a.get("/sanctum/csrf-cookie").then((()=>u.a.post("/auth/login",{user:t,password:a,"g-recaptcha-response":n}))).then((t=>t.data instanceof Object?e({complete:t.data.data.complete,intended:t.data.data.intended||void 0,confirmationToken:t.data.data.confirmation_token||void 0}):r(new Error("An error occurred while processing the login request.")))).catch(r)}))})(G(G({},e),{},{recaptchaData:o})).then((e=>{e.complete?window.location=e.intended||"/":t.replace("/auth/login/checkpoint",{token:e.confirmationToken})})).catch((e=>{console.error(e),c(""),a.current&&a.current.reset(),r(!1),d({error:e})})):a.current.execute().catch((e=>{console.error(e),r(!1),d({error:e})}))},initialValues:{username:"",password:""},validationSchema:Object(h.d)().shape({username:Object(h.f)().required("A username or email must be provided."),password:Object(h.f)().required("Please enter your account password.")})},(e=>{let{isSubmitting:t,setSubmitting:n,submitForm:o}=e;return r.a.createElement(K,{title:"Login to "+i},r.a.createElement(b.a,{light:!0,type:"text",label:"Username or Email",name:"username",disabled:t}),r.a.createElement(W,null,r.a.createElement(b.a,{light:!0,type:"password",label:"Password",name:"password",disabled:t})),r.a.createElement(Y,null,r.a.createElement(J,{type:"submit",size:w.a.Sizes.Large,disabled:t},"Login")),_&&r.a.createElement(p.a,{ref:a,size:"invisible",sitekey:x||"_invalid_key",onVerify:e=>{c(e),o()},onExpire:()=>{n(!1),c("")}}),r.a.createElement($,null,r.a.createElement(Z,{to:"/auth/password"},"Forgot password?")),r.a.createElement(Q,null,s&&r.a.createElement(X,{to:"/auth/register"},"Signup with Email"),l&&r.a.createElement(ee,{to:"/auth/discord"},"Authenticate with Discord")))}))},K=Object(m.c)(D).withConfig({displayName:"LoginContainer___StyledLoginFormContainer",componentId:"sc-qtrnpk-0"})({width:"100%",display:"flex"}),W=Object(m.c)("div").withConfig({displayName:"LoginContainer___StyledDiv",componentId:"sc-qtrnpk-1"})({marginTop:"1.5rem"}),Y=Object(m.c)("div").withConfig({displayName:"LoginContainer___StyledDiv2",componentId:"sc-qtrnpk-2"})({marginTop:"1.5rem"}),J=Object(m.c)(w.a).withConfig({displayName:"LoginContainer___StyledButton",componentId:"sc-qtrnpk-3"})({width:"100%"}),$=Object(m.c)("div").withConfig({displayName:"LoginContainer___StyledDiv3",componentId:"sc-qtrnpk-4"})({marginTop:"1.5rem",textAlign:"center"}),Z=Object(m.c)(_.a).withConfig({displayName:"LoginContainer___StyledLink",componentId:"sc-qtrnpk-5"})({fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"hsla(211, 12%, 43%, var(--tw-text-opacity))",letterSpacing:"0.025em",textDecoration:"none",textTransform:"uppercase",":hover":{"--tw-text-opacity":"1",color:"hsla(209, 14%, 37%, var(--tw-text-opacity))"}}),Q=Object(m.c)("div").withConfig({displayName:"LoginContainer___StyledDiv4",componentId:"sc-qtrnpk-6"})({marginTop:"1.5rem",textAlign:"center"}),X=Object(m.c)(_.a).withConfig({displayName:"LoginContainer___StyledLink2",componentId:"sc-qtrnpk-7"})({fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"hsla(211, 12%, 43%, var(--tw-text-opacity))",letterSpacing:"0.025em",textDecoration:"none",textTransform:"uppercase",":hover":{"--tw-text-opacity":"1",color:"hsla(209, 14%, 37%, var(--tw-text-opacity))"}}),ee=Object(m.c)(_.a).withConfig({displayName:"LoginContainer___StyledLink3",componentId:"sc-qtrnpk-8"})({fontSize:"0.75rem",lineHeight:"1rem",marginLeft:"1.5rem","--tw-text-opacity":"1",color:"hsla(211, 12%, 43%, var(--tw-text-opacity))",letterSpacing:"0.025em",textDecoration:"none",textTransform:"uppercase",":hover":{"--tw-text-opacity":"1",color:"hsla(209, 14%, 37%, var(--tw-text-opacity))"}});function te(){const e=O()(["\n        ","\n        max-width: 700px;\n    "]);return te=function(){return e},e}function ae(){const e=O()(["\n        ","\n    "]);return ae=function(){return e},e}function ne(){const e=O()(["\n        ","\n    "]);return ne=function(){return e},e}function re(){const e=O()(["\n        ","\n    "]);return re=function(){return e},e}const oe=m.c.div.withConfig({displayName:"DiscordFormContainer__Wrapper",componentId:"sc-3rdue8-0"})(["",";",";",";",";"],Object(S.a)("sm")(re(),{width:"80%",marginLeft:"auto",marginRight:"auto"}),Object(S.a)("md")(ne(),{padding:"2.5rem"}),Object(S.a)("lg")(ae(),{width:"60%"}),Object(S.a)("xl")(te(),{width:"100%"}));var ce=e=>{let{children:t}=e;const a=Object(o.b)((e=>e.settings.data.name));return r.a.createElement("div",null,r.a.createElement(oe,null,r.a.createElement(ie,null,"Login to ",a),r.a.createElement(se,null),r.a.createElement(le,null,r.a.createElement(me,null,r.a.createElement(de,{src:"/assets/svgs/discord.svg"})),r.a.createElement(pe,null,t)),r.a.createElement(ue,null,"© ",r.a.createElement("a",{href:"https://jexactyl.com"},"Jexactyl,")," built on"," ",r.a.createElement("a",{href:"https://pterodactyl.io"},"Pterodactyl.")),r.a.createElement(he,null,r.a.createElement("a",{href:"https://jexactyl.com"}," Site "),"•",r.a.createElement("a",{href:"https://github.com/jexactyl/jexactyl"}," GitHub "))))},ie=Object(m.c)("h2").withConfig({displayName:"DiscordFormContainer___StyledH",componentId:"sc-3rdue8-1"})({fontSize:"1.875rem",lineHeight:"2.25rem",textAlign:"center","--tw-text-opacity":"1",color:"hsla(214, 15%, 91%, var(--tw-text-opacity))",fontWeight:"500",paddingTop:"1rem",paddingBottom:"1rem"}),se=Object(m.c)(N.a).withConfig({displayName:"DiscordFormContainer___StyledFlashMessageRender",componentId:"sc-3rdue8-2"})({marginBottom:"0.5rem",paddingLeft:"0.25rem",paddingRight:"0.25rem"}),le=Object(m.c)("div").withConfig({displayName:"DiscordFormContainer___StyledDiv",componentId:"sc-3rdue8-3"})({width:"100%","--tw-bg-opacity":"1",backgroundColor:"rgba(47, 49, 54, var(--tw-bg-opacity))","--tw-shadow":"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",borderRadius:"0.5rem",padding:"1.5rem",marginLeft:"0.25rem",marginRight:"0.25rem","@media (min-width: 768px)":{display:"flex",paddingLeft:"0px"}}),me=Object(m.c)("div").withConfig({displayName:"DiscordFormContainer___StyledDiv2",componentId:"sc-3rdue8-4"})({flex:"none",userSelect:"none",marginBottom:"1.5rem",alignSelf:"center","@media (min-width: 768px)":{marginBottom:"0px"}}),de=Object(m.c)("img").withConfig({displayName:"DiscordFormContainer___StyledImg",componentId:"sc-3rdue8-5"})({display:"block",width:"12rem",padding:"2rem",marginLeft:"auto",marginRight:"auto","@media (min-width: 768px)":{width:"16rem"}}),pe=Object(m.c)("div").withConfig({displayName:"DiscordFormContainer___StyledDiv3",componentId:"sc-3rdue8-6"})({flex:"1 1 0%"}),ue=Object(m.c)("p").withConfig({displayName:"DiscordFormContainer___StyledP",componentId:"sc-3rdue8-7"})({"--tw-text-opacity":"1",color:"hsla(211, 12%, 43%, var(--tw-text-opacity))",fontSize:"0.75rem",lineHeight:"1rem",marginTop:"1.5rem","@media (min-width: 640px)":{float:"left"}}),he=Object(m.c)("p").withConfig({displayName:"DiscordFormContainer___StyledP2",componentId:"sc-3rdue8-8"})({"--tw-text-opacity":"1",color:"hsla(211, 12%, 43%, var(--tw-text-opacity))",fontSize:"0.75rem",lineHeight:"1rem",marginTop:"1.5rem","@media (min-width: 640px)":{float:"right"}});var ge=()=>{const{clearFlashes:e,clearAndAddHttpError:t}=Object(g.a)(),[a,o]=Object(n.useState)(!1),c=()=>{e(),o(!0),new Promise(((e,t)=>{u.a.post("/auth/discord/login").then((t=>e(t.data||[]))).catch(t)})).then((e=>{if(!e)return t({error:"Discord auth failed. Please try again."});window.location.href=e})).then((()=>o(!1))).catch((e=>{console.error(e),t({error:e})}))};return r.a.createElement(ye,null,r.a.createElement(fe,null,r.a.createElement(be,null,r.a.createElement(we,{type:"button",onClick:()=>c(),disabled:a},"Connect with Discord")),r.a.createElement(_e,null,r.a.createElement(xe,{to:"/auth/login"},"Return to login"))))},ye=Object(m.c)(ce).withConfig({displayName:"DiscordContainer___StyledDiscordFormContainer",componentId:"sc-1eb8lzv-0"})({width:"100%",display:"flex"}),fe=Object(m.c)("div").withConfig({displayName:"DiscordContainer___StyledDiv",componentId:"sc-1eb8lzv-1"})({display:"flex",flexDirection:"column","@media (min-width: 768px)":{height:"100%"}}),be=Object(m.c)("div").withConfig({displayName:"DiscordContainer___StyledDiv2",componentId:"sc-1eb8lzv-2"})({marginTop:"1.5rem"}),we=Object(m.c)(w.a).withConfig({displayName:"DiscordContainer___StyledButton",componentId:"sc-1eb8lzv-3"})({width:"100%"}),_e=Object(m.c)("div").withConfig({displayName:"DiscordContainer___StyledDiv3",componentId:"sc-1eb8lzv-4"})({marginTop:"1.5rem",textAlign:"center"}),xe=Object(m.c)(_.a).withConfig({displayName:"DiscordContainer___StyledLink",componentId:"sc-1eb8lzv-5"})({fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"hsla(211, 12%, 43%, var(--tw-text-opacity))",letterSpacing:"0.025em",textDecoration:"none",textTransform:"uppercase",":hover":{"--tw-text-opacity":"1",color:"hsla(209, 14%, 37%, var(--tw-text-opacity))"}});function ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(a),!0).forEach((function(t){l()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ve(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var je=e=>{let{history:t}=e;const a=Object(n.useRef)(null),[o,c]=Object(n.useState)(""),{clearFlashes:i,clearAndAddHttpError:s,addFlash:l}=Object(g.a)(),{enabled:m,siteKey:d}=Object(y.useStoreState)((e=>e.settings.data.recaptcha));Object(n.useEffect)((()=>{i()}),[]);return r.a.createElement(f.c,{onSubmit:(e,n)=>{let{setSubmitting:r}=n;i(),!m||o?(e=>{let{username:t,email:a,password:n,recaptchaData:r}=e;return new Promise(((e,o)=>{u.a.get("/sanctum/csrf-cookie").then((()=>u.a.post("/auth/register",{user:t,email:a,password:n,"g-recaptcha-response":r}))).then((t=>t.data instanceof Object?e({complete:t.data.data.complete,intended:t.data.data.intended||void 0,confirmationToken:t.data.data.confirmation_token||void 0}):o(new Error("Unable to register account. Please contact an administrator.")))).catch(o)}))})(Ee(Ee({},e),{},{recaptchaData:o})).then((e=>{if(e.complete)return t.replace("/auth/login"),void l({key:"auth:register",type:"success",message:"Account has been successfully created."});t.replace("/auth/register")})).catch((e=>{console.error(e),c(""),a.current&&a.current.reset(),r(!1),s({error:e})})):a.current.execute().catch((e=>{console.error(e),r(!1),s({error:e})}))},initialValues:{username:"",email:"",password:""},validationSchema:Object(h.d)().shape({username:Object(h.f)().min(3).required(),email:Object(h.f)().email().required(),password:Object(h.f)().min(8).required()})},(e=>{let{isSubmitting:t,setSubmitting:n,submitForm:o}=e;return r.a.createElement(Ce,{title:"Create an Account"},r.a.createElement(Oe,{byKey:"auth:register"}),r.a.createElement(Se,{type:"text",label:"Username",name:"username",disabled:t}),r.a.createElement(Ne,{type:"email",label:"Email Address",name:"email",disabled:t}),r.a.createElement(ke,{type:"password",label:"Password",name:"password",disabled:t}),r.a.createElement(Ie,{type:"submit",size:w.a.Sizes.Large,disabled:t},"Register"),m&&r.a.createElement(p.a,{ref:a,size:"invisible",sitekey:d||"_invalid_key",onVerify:e=>{c(e),o()},onExpire:()=>{n(!1),c("")}}),r.a.createElement(Pe,null,r.a.createElement(Re,{to:"/auth/login"},"Return to login")))}))},Ce=Object(m.c)(D).withConfig({displayName:"RegisterContainer___StyledLoginFormContainer",componentId:"sc-q0uopf-0"})({width:"100%",display:"flex"}),Oe=Object(m.c)(N.a).withConfig({displayName:"RegisterContainer___StyledFlashMessageRender",componentId:"sc-q0uopf-1"})({marginTop:"0.75rem",marginBottom:"0.75rem"}),Se=Object(m.c)(b.a).withConfig({displayName:"RegisterContainer___StyledField",componentId:"sc-q0uopf-2"})({marginTop:"0.75rem",marginBottom:"0.75rem"}),Ne=Object(m.c)(b.a).withConfig({displayName:"RegisterContainer___StyledField2",componentId:"sc-q0uopf-3"})({marginTop:"0.75rem",marginBottom:"0.75rem"}),ke=Object(m.c)(b.a).withConfig({displayName:"RegisterContainer___StyledField3",componentId:"sc-q0uopf-4"})({marginTop:"0.75rem",marginBottom:"0.75rem"}),Ie=Object(m.c)(w.a).withConfig({displayName:"RegisterContainer___StyledButton",componentId:"sc-q0uopf-5"})({marginTop:"1.5rem",marginBottom:"1.5rem",width:"100%"}),Pe=Object(m.c)("div").withConfig({displayName:"RegisterContainer___StyledDiv",componentId:"sc-q0uopf-6"})({textAlign:"center"}),Re=Object(m.c)(_.a).withConfig({displayName:"RegisterContainer___StyledLink",componentId:"sc-q0uopf-7"})({fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"hsla(211, 12%, 43%, var(--tw-text-opacity))",letterSpacing:"0.025em",textDecoration:"none",textTransform:"uppercase",":hover":{"--tw-text-opacity":"1",color:"hsla(209, 14%, 37%, var(--tw-text-opacity))"}}),Te=a(157),De=e=>{let{match:t,location:a}=e;const[o,c]=Object(n.useState)(""),{clearFlashes:i,addFlash:s}=Object(y.useStoreActions)((e=>e.flashes)),l=new URLSearchParams(a.search);0===o.length&&l.get("email")&&c(l.get("email")||"");return r.a.createElement(f.c,{onSubmit:(e,a)=>{let{password:n,passwordConfirmation:r}=e,{setSubmitting:c}=a;i(),((e,t)=>new Promise(((a,n)=>{u.a.post("/auth/password/reset",{email:e,token:t.token,password:t.password,password_confirmation:t.passwordConfirmation}).then((e=>a({redirectTo:e.data.redirect_to,sendToLogin:e.data.send_to_login}))).catch(n)})))(o,{token:t.params.token,password:n,passwordConfirmation:r}).then((()=>{window.location="/"})).catch((e=>{console.error(e),c(!1),s({type:"error",title:"Error",message:Object(u.c)(e)})}))},initialValues:{password:"",passwordConfirmation:""},validationSchema:Object(h.d)().shape({password:Object(h.f)().required("A new password is required.").min(8,"Your new password should be at least 8 characters in length."),passwordConfirmation:Object(h.f)().required("Your new password does not match.").oneOf([Object(h.e)("password"),null],"Your new password does not match.")})},(e=>{let{isSubmitting:t}=e;return r.a.createElement(Le,{title:"Reset Password"},r.a.createElement("div",null,r.a.createElement("label",null,"Email"),r.a.createElement(Te.b,{value:o,isLight:!0,disabled:!0})),r.a.createElement(ze,null,r.a.createElement(b.a,{light:!0,label:"New Password",name:"password",type:"password",description:"Passwords must be at least 8 characters in length."})),r.a.createElement(Fe,null,r.a.createElement(b.a,{light:!0,label:"Confirm New Password",name:"passwordConfirmation",type:"password"})),r.a.createElement(Be,null,r.a.createElement(Ae,{size:w.a.Sizes.Large,type:"submit",disabled:t},"Reset Password")),r.a.createElement(He,null,r.a.createElement(qe,{to:"/auth/login"},"Return to Login")))}))},Le=Object(m.c)(D).withConfig({displayName:"ResetPasswordContainer___StyledLoginFormContainer",componentId:"sc-1gvxg4x-0"})({width:"100%",display:"flex"}),ze=Object(m.c)("div").withConfig({displayName:"ResetPasswordContainer___StyledDiv",componentId:"sc-1gvxg4x-1"})({marginTop:"1.5rem"}),Fe=Object(m.c)("div").withConfig({displayName:"ResetPasswordContainer___StyledDiv2",componentId:"sc-1gvxg4x-2"})({marginTop:"1.5rem"}),Be=Object(m.c)("div").withConfig({displayName:"ResetPasswordContainer___StyledDiv3",componentId:"sc-1gvxg4x-3"})({marginTop:"1.5rem"}),Ae=Object(m.c)(w.a).withConfig({displayName:"ResetPasswordContainer___StyledButton",componentId:"sc-1gvxg4x-4"})({width:"100%"}),He=Object(m.c)("div").withConfig({displayName:"ResetPasswordContainer___StyledDiv4",componentId:"sc-1gvxg4x-5"})({marginTop:"1.5rem",textAlign:"center"}),qe=Object(m.c)(_.a).withConfig({displayName:"ResetPasswordContainer___StyledLink",componentId:"sc-1gvxg4x-6"})({fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"hsla(211, 12%, 43%, var(--tw-text-opacity))",letterSpacing:"0.025em",textDecoration:"none",textTransform:"uppercase",":hover":{"--tw-text-opacity":"1",color:"hsla(209, 14%, 37%, var(--tw-text-opacity))"}}),Me=()=>{const e=Object(n.useRef)(null),[t,a]=Object(n.useState)(""),{clearFlashes:r,addFlash:o}=Object(g.a)(),{enabled:c,siteKey:i}=Object(y.useStoreState)((e=>e.settings.data.recaptcha));Object(n.useEffect)((()=>{r()}),[]);return n.createElement(f.c,{onSubmit:(n,i)=>{let{email:s}=n,{setSubmitting:l,resetForm:m}=i;r(),!c||t?((e,t)=>new Promise(((a,n)=>{u.a.post("/auth/password",{email:e,"g-recaptcha-response":t}).then((e=>a(e.data.status||""))).catch(n)})))(s,t).then((e=>{m(),o({type:"success",title:"Success",message:e})})).catch((e=>{console.error(e),o({type:"error",title:"Error",message:Object(u.c)(e)})})).then((()=>{a(""),e.current&&e.current.reset(),l(!1)})):e.current.execute().catch((e=>{console.error(e),l(!1),o({type:"error",title:"Error",message:Object(u.c)(e)})}))},initialValues:{email:""},validationSchema:Object(h.d)().shape({email:Object(h.f)().email("A valid email address must be provided to continue.").required("A valid email address must be provided to continue.")})},(t=>{let{isSubmitting:r,setSubmitting:o,submitForm:s}=t;return n.createElement(Ve,{title:"Request Password Reset"},n.createElement(b.a,{light:!0,label:"Email",description:"Enter your account email address to receive instructions on resetting your password.",name:"email",type:"email"}),n.createElement(Ge,null,n.createElement(Ue,{size:w.a.Sizes.Large,type:"submit",disabled:r},"Send Email")),c&&n.createElement(p.a,{ref:e,size:"invisible",sitekey:i||"_invalid_key",onVerify:e=>{a(e),s()},onExpire:()=>{o(!1),a("")}}),n.createElement(Ke,null,n.createElement(We,{to:"/auth/login"},"Return to Login")))}))},Ve=Object(m.c)(D).withConfig({displayName:"ForgotPasswordContainer___StyledLoginFormContainer",componentId:"sc-1crept1-0"})({width:"100%",display:"flex"}),Ge=Object(m.c)("div").withConfig({displayName:"ForgotPasswordContainer___StyledDiv",componentId:"sc-1crept1-1"})({marginTop:"1.5rem"}),Ue=Object(m.c)(w.a).withConfig({displayName:"ForgotPasswordContainer___StyledButton",componentId:"sc-1crept1-2"})({width:"100%"}),Ke=Object(m.c)("div").withConfig({displayName:"ForgotPasswordContainer___StyledDiv2",componentId:"sc-1crept1-3"})({marginTop:"1.5rem",textAlign:"center"}),We=Object(m.c)(_.a).withConfig({displayName:"ForgotPasswordContainer___StyledLink",componentId:"sc-1crept1-4"})({fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"hsla(211, 12%, 43%, var(--tw-text-opacity))",letterSpacing:"0.025em",textTransform:"uppercase",textDecoration:"none",":hover":{"--tw-text-opacity":"1",color:"hsla(209, 18%, 30%, var(--tw-text-opacity))"}});const Ye=Object(f.f)({handleSubmit:(e,t)=>{var a;let{code:n,recoveryCode:r}=e,{setSubmitting:o,props:{clearAndAddHttpError:c,location:i}}=t;((e,t,a)=>new Promise(((n,r)=>{u.a.post("/auth/login/checkpoint",{confirmation_token:e,authentication_code:t,recovery_token:a&&a.length>0?a:void 0}).then((e=>n({complete:e.data.data.complete,intended:e.data.data.intended||void 0}))).catch(r)})))((null===(a=i.state)||void 0===a?void 0:a.token)||"",n,r).then((e=>{e.complete?window.location=e.intended||"/":o(!1)})).catch((e=>{console.error(e),o(!1),c({error:e})}))},mapPropsToValues:()=>({code:"",recoveryCode:""})})((()=>{const{isSubmitting:e,setFieldValue:t}=Object(f.e)(),[a,o]=Object(n.useState)(!1);return r.a.createElement($e,{title:"Device Checkpoint"},r.a.createElement(Ze,null,r.a.createElement(b.a,{light:!0,name:a?"recoveryCode":"code",title:a?"Recovery Code":"Authentication Code",description:a?"Enter one of the recovery codes generated when you setup 2-Factor authentication on this account in order to continue.":"Enter the two-factor token generated by your device.",type:"text",autoComplete:"one-time-code",autoFocus:!0})),r.a.createElement(Qe,null,r.a.createElement(Xe,{size:w.a.Sizes.Large,type:"submit",disabled:e},"Continue")),r.a.createElement(et,null,r.a.createElement(tt,{onClick:()=>{t("code",""),t("recoveryCode",""),o((e=>!e))}},a?"I Have My Device":"I've Lost My Device")),r.a.createElement(at,null,r.a.createElement(nt,{to:"/auth/login"},"Return to Login")))}));var Je=e=>{var t;let{history:a,location:n}=e,o=j()(e,["history","location"]);const{clearAndAddHttpError:c}=Object(g.a)();return(null===(t=n.state)||void 0===t?void 0:t.token)?r.a.createElement(Ye,v()({clearAndAddHttpError:c,history:a,location:n},o)):(a.replace("/auth/login"),null)},$e=Object(m.c)(D).withConfig({displayName:"LoginCheckpointContainer___StyledLoginFormContainer",componentId:"sc-1a62wwr-0"})({width:"100%",display:"flex"}),Ze=Object(m.c)("div").withConfig({displayName:"LoginCheckpointContainer___StyledDiv",componentId:"sc-1a62wwr-1"})({marginTop:"1.5rem"}),Qe=Object(m.c)("div").withConfig({displayName:"LoginCheckpointContainer___StyledDiv2",componentId:"sc-1a62wwr-2"})({marginTop:"1.5rem"}),Xe=Object(m.c)(w.a).withConfig({displayName:"LoginCheckpointContainer___StyledButton",componentId:"sc-1a62wwr-3"})({width:"100%"}),et=Object(m.c)("div").withConfig({displayName:"LoginCheckpointContainer___StyledDiv3",componentId:"sc-1a62wwr-4"})({marginTop:"1.5rem",textAlign:"center"}),tt=Object(m.c)("span").withConfig({displayName:"LoginCheckpointContainer___StyledSpan",componentId:"sc-1a62wwr-5"})({cursor:"pointer",fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"hsla(211, 12%, 43%, var(--tw-text-opacity))",letterSpacing:"0.025em",textTransform:"uppercase",textDecoration:"none",":hover":{"--tw-text-opacity":"1",color:"hsla(209, 18%, 30%, var(--tw-text-opacity))"}}),at=Object(m.c)("div").withConfig({displayName:"LoginCheckpointContainer___StyledDiv4",componentId:"sc-1a62wwr-6"})({marginTop:"1.5rem",textAlign:"center"}),nt=Object(m.c)(_.a).withConfig({displayName:"LoginCheckpointContainer___StyledLink",componentId:"sc-1a62wwr-7"})({fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"hsla(211, 12%, 43%, var(--tw-text-opacity))",letterSpacing:"0.025em",textTransform:"uppercase",textDecoration:"none",":hover":{"--tw-text-opacity":"1",color:"hsla(209, 18%, 30%, var(--tw-text-opacity))"}});t.default=()=>{const e=Object(c.g)(),t=Object(c.h)(),{path:a}=Object(_.h)(),n=Object(o.b)((e=>{var t;return null===(t=e.settings.data)||void 0===t?void 0:t.registration.email})),s=Object(o.b)((e=>{var t;return null===(t=e.settings.data)||void 0===t?void 0:t.registration.discord}));return r.a.createElement("div",{className:"pt-8 xl:pt-32"},r.a.createElement(_.d,{location:t},r.a.createElement(_.c,{path:"".concat(a,"/login"),component:U,exact:!0}),r.a.createElement(_.c,{path:"".concat(a,"/login/checkpoint"),component:Je}),n&&r.a.createElement(_.c,{path:"".concat(a,"/register"),component:je}),s&&r.a.createElement(_.c,{path:"".concat(a,"/discord"),component:ge}),r.a.createElement(_.c,{path:"".concat(a,"/password"),component:Me,exact:!0}),r.a.createElement(_.c,{path:"".concat(a,"/password/reset/:token"),component:De}),r.a.createElement(_.c,{path:"".concat(a,"/checkpoint")}),r.a.createElement(_.c,{path:"*"},r.a.createElement(i.b,{onBack:()=>e.push("/auth/login")}))))}}}]);