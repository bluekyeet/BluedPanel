(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{414:function(e,t,a){"use strict";a.r(t);var n=a(2),o=a(152),r=a(150),i=a(55),l=a(161),s=a(156),c=a(0),m=a.n(c),d=a(54),u=a(56),p=a(294),k=a(167);t.default=()=>{const[e,t]=Object(c.useState)(!1),[a,n]=Object(c.useState)(!1),d=i.a.useStoreState((e=>e.server.data.uuid)),u=i.a.useStoreState((e=>e.status.value)),{clearFlashes:b,clearAndAddHttpError:w}=Object(r.a)(),{connected:O,instance:v}=i.a.useStoreState((e=>e.socket));Object(c.useEffect)((()=>{if(!O||!v||"running"===u)return;const e=["(gsl token expired)","(account not found)"],a=a=>{e.some((e=>a.toLowerCase().includes(e)))&&t(!0)};return v.addListener(k.a.CONSOLE_OUTPUT,a),()=>{v.removeListener(k.a.CONSOLE_OUTPUT,a)}}),[O,v,u]);return Object(c.useEffect)((()=>{b("feature:gslToken")}),[]),m.a.createElement(o.c,{onSubmit:e=>{n(!0),b("feature:gslToken"),Object(p.a)(d,"STEAM_ACC",e.gslToken).then((()=>{v&&v.send(k.b.SET_STATE,"restart"),n(!1),t(!1)})).catch((e=>{console.error(e),w({key:"feature:gslToken",error:e})})).then((()=>n(!1)))},initialValues:{gslToken:""}},m.a.createElement(l.b,{visible:e,onDismissed:()=>t(!1),closeOnBackground:!1,showSpinnerOverlay:a},m.a.createElement(g,{key:"feature:gslToken"}),m.a.createElement(o.b,null,m.a.createElement(S,null,"Invalid GSL token!"),m.a.createElement(T,null,"It seems like your Gameserver Login Token (GSL token) is invalid or has expired."),m.a.createElement(f,null,"You can either generate a new one and enter it below or leave the field blank to remove it completely."),m.a.createElement(h,null,m.a.createElement(s.a,{name:"gslToken",label:"GSL Token",description:"Visit https://steamcommunity.com/dev/managegameservers to generate a token.",autoFocus:!0})),m.a.createElement(y,null,m.a.createElement(_,{type:"submit"},"Update GSL Token")))))};var g=Object(n.c)(u.a).withConfig({displayName:"GSLTokenModalFeature___StyledFlashMessageRender",componentId:"sc-1r409kx-0"})({marginBottom:"1rem"}),S=Object(n.c)("h2").withConfig({displayName:"GSLTokenModalFeature___StyledH",componentId:"sc-1r409kx-1"})({fontSize:"1.5rem",lineHeight:"2rem",marginBottom:"1rem","--tw-text-opacity":"1",color:"hsla(214, 15%, 91%, var(--tw-text-opacity))"}),T=Object(n.c)("p").withConfig({displayName:"GSLTokenModalFeature___StyledP",componentId:"sc-1r409kx-2"})({marginTop:"1rem"}),f=Object(n.c)("p").withConfig({displayName:"GSLTokenModalFeature___StyledP2",componentId:"sc-1r409kx-3"})({marginTop:"1rem"}),h=Object(n.c)("div").withConfig({displayName:"GSLTokenModalFeature___StyledDiv",componentId:"sc-1r409kx-4"})({alignItems:"center",marginTop:"1rem","@media (min-width: 640px)":{display:"flex"}}),y=Object(n.c)("div").withConfig({displayName:"GSLTokenModalFeature___StyledDiv2",componentId:"sc-1r409kx-5"})({marginTop:"2rem",alignItems:"center",justifyContent:"flex-end","@media (min-width: 640px)":{display:"flex"}}),_=Object(n.c)(d.a).withConfig({displayName:"GSLTokenModalFeature___StyledButton",componentId:"sc-1r409kx-6"})({marginTop:"1rem",width:"100%","@media (min-width: 640px)":{marginTop:"0px",marginLeft:"1rem",width:"auto"}})}}]);